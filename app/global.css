@import 'tailwindcss';

@theme {
  /* Surface Colors */
  --color-background: hsl(var(--bg));
  --color-section: hsl(var(--section));
  --color-surface: hsl(var(--surface));
  --color-surface-2: hsl(var(--surface-2));
  --color-surface-3: hsl(var(--surface-3));

  /* Text Colors */
  --color-foreground: hsl(var(--fg));
  --color-muted-fg: hsl(var(--muted-fg));

  /* Components */
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-fg));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));

  /* Brand / Primary */
  --color-primary: hsl(var(--brand));
  --color-primary-foreground: hsl(var(--brand-fg));
  --color-accent: hsl(var(--brand));
  --color-accent-foreground: hsl(var(--brand-fg));

  /* Status */
  --color-danger: hsl(var(--danger));
  --color-success: hsl(var(--success));
  --color-warning: hsl(var(--warning));

  /* Utilities */
  --color-ring: hsl(var(--ring));
  --radius-xl: var(--radius);
}

/* ---------- Design Tokens (Raw HSL) ---------- */
:root {
  --bg: 0 0% 100%;
  --section: 240 5% 96%;
  --surface: 0 0% 100%;
  --surface-2: 240 5% 96%;
  --surface-3: 240 5% 92%;

  --card: 0 0% 100%;
  --card-fg: 240 10% 10%;

  --fg: 240 10% 10%;
  --muted-fg: 240 4% 40%;

  --border: 240 6% 88%;

  --brand: 214 84% 45%;
  --brand-fg: 0 0% 100%;

  --danger: 0 72% 52%;
  --success: 142 72% 35%;
  --warning: 38 92% 50%;

  --radius: 28px;
  --ring: 214 84% 45%;

  /* Aliases for logic consistency */
  --popover: var(--surface);
  --popover-foreground: var(--fg);
  --input: var(--border);
}

.dark {
  --bg: 240 10% 6%;
  --section: 240 9% 10%;
  --surface: 240 10% 8%;
  --surface-2: 240 9% 12%;
  --surface-3: 240 8% 16%;

  --card: 240 10% 10%;
  --card-fg: 0 0% 98%;

  --fg: 0 0% 98%;
  --muted-fg: 240 5% 72%;

  --border: 240 7% 22%;

  --brand: 214 90% 60%;
  --brand-fg: 240 10% 8%;

  --ring: 214 90% 60%;
}

/* ---------- Base Styles ---------- */
@layer base {
  html,
  body {
    height: 100%;
  }

  body {
    background-color: hsl(var(--bg));
    color: hsl(var(--fg));
    font-family:
      ui-sans-serif,
      system-ui,
      -apple-system,
      sans-serif;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
  }

  a:not([class]) {
    color: hsl(var(--brand));
    text-underline-offset: 3px;
    transition: text-decoration 0.2s;
  }

  a:not([class]):hover {
    text-decoration: underline;
  }

  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 3px;
    border-radius: 8px;
  }

  /* Works across light/dark/colored backgrounds without changing text color */
  ::selection {
    background: rgba(0, 153, 255, 0.35);
  }

  ::-moz-selection {
    background: rgba(0, 153, 255, 0.35);
  }

  hr {
    border: 0;
    border-top: 1px solid hsl(var(--border));
  }
}

/* ---------- Print utilities ---------- */
.lm-print-only {
  display: none;
}

@media print {
  .lm-no-print {
    display: none !important;
  }

  .lm-print-only {
    display: block !important;
  }

  .lm-print-root {
    padding: 0;
    margin: 0;
  }

  * {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  @page {
    margin: 12mm;
  }
}
